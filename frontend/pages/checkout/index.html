<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlyDreamAir - Checkout</title>
    <link rel="stylesheet" href="../../components/header.css">
    <link rel="stylesheet" href="../../components/footer.css">
    <link rel="stylesheet" href="checkout.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons (optional, but good for checkmarks, etc.) -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"> -->
</head>
<body>
    <!-- Header will be loaded here -->
    <div id="header-placeholder"></div>

    <main class="checkout-page">
        <nav class="booking-nav-tabs main-checkout-tabs">
             <ul>
                <li><button class="tab-btn book-tab">Book</button></li>
                <li><button class="tab-btn manage-tab">Manage</button></li>
                <li><button class="tab-btn upgrade-tab">Upgrade</button></li>
                <li><button class="tab-btn checkin-tab">Check-in</button></li>
                <li><button class="tab-btn flight-status-tab">Flight Status</button></li>
            </ul>
        </nav>

        <section class="checkout-flow">
            <div class="checkout-tabs-navigation">
                <button class="checkout-tab-link active" onclick="openCheckoutTab(event, 'ShoppingCart')">Shopping Cart</button>
                <button class="checkout-tab-link" onclick="openCheckoutTab(event, 'BillingDetails')">Billing Details</button>
                <button class="checkout-tab-link" onclick="openCheckoutTab(event, 'PaymentDetails')">Payment Details</button>
            </div>

            <!-- Tab content -->
            <div id="ShoppingCart" class="checkout-tab-content active-content">
                <div class="content-grid">
                    <div class="order-summary-panel">
                        <h3>Order Summary:</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Item/Passenger</th>
                                    <th>Details/Qty.</th>
                                    <th>Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Example for Passenger 1 -->
                                <tr class="passenger-summary-header">
                                    <td colspan="3">Passenger 1: Adult - John Doe</td>
                                </tr>
                                <tr>
                                    <td>Flight Ticket (Economy)</td>
                                    <td>1</td>
                                    <td>$250.00</td>
                                </tr>
                                <tr>
                                    <td>Selected Seat</td>
                                    <td>4B</td>
                                    <td>$15.00</td>
                                </tr>
                                <tr>
                                    <td>In-Flight Meal</td>
                                    <td>1</td>
                                    <td>$20.00</td>
                                </tr>

                                <!-- Example for Passenger 2 -->
                                <tr class="passenger-summary-header">
                                    <td colspan="3">Passenger 2: Child - Jane Doe</td>
                                </tr>
                                <tr>
                                    <td>Flight Ticket (Economy)</td>
                                    <td>1</td>
                                    <td>$180.00</td>
                                </tr>
                                <tr>
                                    <td>Selected Seat</td>
                                    <td>12C</td>
                                    <td>$10.00</td>
                                </tr>
                                <tr>
                                    <td>In-Flight Entertainment</td>
                                    <td>1</td>
                                    <td>$10.00</td>
                                </tr>
                                
                                <!-- Add more passengers dynamically with JS -->
                                
                            </tbody>
                            <tfoot>
                                <tr><td colspan="2">Subtotal</td><td>$0.00</td></tr>
                                <tr><td colspan="2">Tax</td><td>$0.00</td></tr>
                                <tr class="total-cost"><td>Total Cost:</td><td colspan="2">$0.00</td></tr>
                            </tfoot>
                        </table>
                        <button class="action-btn" onclick="openCheckoutTab(event, 'BillingDetails', true)">Continue</button>
                    </div>
                </div>
            </div>

            <div id="BillingDetails" class="checkout-tab-content">
                <div class="content-grid billing-grid">
                    <form class="billing-address-form">
                        <h3>Billing Address:</h3>
                        <div class="form-row">
                            <div class="form-group"><label for="first-name">First Name *</label><input type="text" id="first-name" placeholder="e.g John"></div>
                            <div class="form-group"><label for="last-name">Last Name *</label><input type="text" id="last-name" placeholder="e.g Smith"></div>
                        </div>
                        <div class="form-group"><label for="email">Email *</label><input type="email" id="email" placeholder="e.g some@gmail.com"></div>
                        <div class="form-group"><label for="address">Address *</label><input type="text" id="address" placeholder="e.g 42 Wallaby Way"></div>
                        <div class="form-row">
                            <div class="form-group"><label for="city">City *</label><input type="text" id="city" placeholder="e.g Sydney"></div>
                            <div class="form-group"><label for="state">State *</label><input type="text" id="state" placeholder="e.g New South Wales"></div>
                        </div>
                        <div class="form-row">
                             <div class="form-group"><label for="country">Country *</label><input type="text" id="country" placeholder="e.g Australia"></div>
                             <div class="form-group"><label for="mobile">Mobile Number *</label><input type="tel" id="mobile" placeholder="e.g 0123 456 789"></div>
                        </div>
                        <div class="form-group"><label for="passport">Passport Number *</label><input type="text" id="passport" placeholder="e.g PA0123456"></div>
                    </form>
                    <div class="order-summary-panel fixed-summary">
                        <h3>Order Summary:</h3>
                        <table>
                             <tbody>
                                <tr><td>Subtotal</td><td>$0.00</td></tr>
                                <tr><td>Tax</td><td>$0.00</td></tr>
                             </tbody>
                            <tfoot>
                                <tr class="total-cost"><td>Total Cost:</td><td>$0.00</td></tr>
                            </tfoot>
                        </table>
                        <button class="action-btn" onclick="openCheckoutTab(event, 'PaymentDetails', true)">Continue</button>
                    </div>
                </div>
            </div>

            <div id="PaymentDetails" class="checkout-tab-content">
                <div class="content-grid payment-grid">
                    <div class="payment-method-selection">
                        <h3>Select Payment Method:</h3>
                        <label><input type="radio" name="payment-method" value="card" checked> Debit/Credit Card</label>
                        <label><input type="radio" name="payment-method" value="paypal"> PayPal</label>
                        <label><input type="radio" name="payment-method" value="points"> Redeem Points</label>
                        
                        <form class="card-details-form">
                            <div class="form-group"><label for="card-holder">Card Holder Name *</label><input type="text" id="card-holder" placeholder="John Smith"></div>
                            <div class="form-group"><label for="card-number">Card Number *</label><input type="text" id="card-number" placeholder="1234 5678 9123 4567"></div>
                            <div class="form-row">
                                <div class="form-group"><label for="expiry-date">Expiry Date *</label><input type="text" id="expiry-date" placeholder="MM/YY"></div>
                                <div class="form-group"><label for="cvc">CVC *</label><input type="text" id="cvc" placeholder="123"></div>
                            </div>
                        </form>
                    </div>
                     <div class="order-summary-panel fixed-summary">
                        <h3>Order Summary:</h3>
                         <table>
                             <tbody>
                                <tr><td>Subtotal</td><td>$0.00</td></tr>
                                <tr><td>Tax</td><td>$0.00</td></tr>
                             </tbody>
                            <tfoot>
                                <tr class="total-cost"><td>Total Cost:</td><td>$0.00</td></tr>
                            </tfoot>
                        </table>
                        <button id="pay-now-btn" class="action-btn primary-action-btn">Pay Now</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="promo-content-checkout">
            <div class="promo-item">
                <div class="promo-image-placeholder"></div>
                <h3 class="promo-title">Title</h3>
                <p class="promo-info">Info: rgoah ogfi oabgfdob a fodinbofdbn fdoab ghaohgf ghfidaohgfiod</p>
                <a href="#" class="learn-more-link">Learn more ></a>
            </div>
            <div class="promo-item">
                <div class="promo-image-placeholder"></div>
                <h3 class="promo-title">Title</h3>
                <p class="promo-info">Info: rgoah ogfi oabgfdob a fodinbofdbn fdoab ghaohgf ghfidaohgfiod</p>
                <a href="#" class="learn-more-link">Learn more ></a>
            </div>
            <div class="promo-item">
                <div class="promo-image-placeholder"></div>
                <h3 class="promo-title">Title</h3>
                <p class="promo-info">Info: rgoah ogfi oabgfdob a fodinbofdbn fdoab ghaohgf ghfidaohgfiod</p>
                <a href="#" class="learn-more-link">Learn more ></a>
            </div>
        </section>

        <section class="sales-clarification-checkout">
            <p>* space for clarification of sales/ promotions</p>
        </section>

    </main>

    <!-- Footer will be loaded here -->
    <div id="footer-placeholder"></div>

    <script>
        // Load header and footer
        function loadHTML(url, elementId) {
            fetch(url)
                .then(response => response.text())
                .then(data => {
                    document.getElementById(elementId).innerHTML = data;
                })
                .catch(error => console.error('Error loading HTML:', error));
        }
        loadHTML('../../components/header.html', 'header-placeholder');
        loadHTML('../../components/footer.html', 'footer-placeholder');

        // Tab functionality
        function openCheckoutTab(event, tabName, autoSwitchLink) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("checkout-tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active-content");
            }
            tablinks = document.getElementsByClassName("checkout-tab-link");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }
            document.getElementById(tabName).classList.add("active-content");
            
            if(autoSwitchLink) { // If called from a continue button, also activate the corresponding nav link
                 const targetNavLink = Array.from(tablinks).find(link => link.textContent.replace(/\s+/g, '') === tabName.replace(/\s+/g, ''));
                 if(targetNavLink) targetNavLink.classList.add("active");
            } else if (event) {
                 event.currentTarget.classList.add("active");
            }
        }
        // Initialize the first tab or ensure it's correctly set on load
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector('.checkout-tab-link').click(); 
        });
    </script>
</body>
</html>
